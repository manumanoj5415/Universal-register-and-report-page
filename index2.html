<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENERAL SERVICE </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"><title>General Service Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .logo-img {
            max-width: 150px;
            height: auto;
        }
        .partner-img {
            max-width: 100px;
            height: auto;
        }
        .header-left p {
            margin: 0;
            font-size: 14px;
        }
        .table-container {
            overflow-x: auto;
        }
        .datauee {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .datauee p {
            margin: 0;
        }
        .datauee input {
            margin-left: 10px;
        }
        .container {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            gap: 0;
        }
        .left-side, .right-side {
            width: 50%;
            box-sizing: border-box;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .left-side, .right-side {
                width: 100%;
            }
            .logo-img {
                max-width: 120px;
            }
            .partner-img {
                max-width: 80px;
            }
            .header-left, .header-right {
                text-align: center;
            }
            .header-right {
                margin-top: 10px;
            }
            .part-details-section {
                flex-direction: column;
                align-items: flex-start;
            }
            .part-details-section .right {
                margin-left: 0;
                text-align: center;
            }
        }
        .form-section {
            padding: 20px;
            background-color: #f9f9f9;
            font-family: 'Times New Roman', Times, serif;
            font-size: 14px;
        }
        .form-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .form-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .form-group label {
            margin-bottom: 0;
            font-weight: bold;
            flex: 1;
            text-align: left;
        }
        .form-group input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            flex: 2;
        }
        .checklist-section {
            padding: 20px;
            background-color: #f9f9f9;
            font-family: 'Times New Roman', Times, serif;
            font-size: 10px;
        }
        .checklist-table {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        .checklist-col {
            flex: 1;
            padding: 0 10px;
        }
        .checklist-col input {
            width: 100%;
            margin-bottom: 10px;
            font-family: 'Times New Roman', Times, serif;
            font-size: 10px;
        }
        .separator-line {
            border-top: 2px solid #333;
            margin: 20px 0;
        }
        
        .part-details-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0 auto;
            max-width: 800px; /* Adjust as needed */
            padding: 0 20px; /* Optional: Add padding if necessary */
        }
    
        .part-details-section .left, .part-details-section .right {
            flex: 1;
        }
    
        .part-details-section .left {
            text-align: left;
            margin-right: 50px; /* Adjust as needed */
        }
    
        .part-details-section .right {
            text-align: right;
        }
    
        .details-table {
            width: 100%;
            border-collapse: collapse;
        }
        .details-table th, .details-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        /* Styling for the part-details-section */
        .part-details-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0 auto;
            max-width: 800px; /* Adjust as needed */
            padding: 0 20px; /* Optional: Add padding if necessary */
            background-color: #f9f9f9;
            font-family: 'Times New Roman', Times, serif;
            font-size: 14px;
        }
    
        .part-details-section .left {
            flex: 1;
            text-align: left;
            font-weight: bold;
        }
    
        .part-details-section .right {
            flex: 1;
            text-align: right;
            font-weight: bold;
        }
    
        /* Styling for the part-details-table */
        .part-details-table {
            padding: 20px;
            background-color: #f9f9f9;
            font-family: 'Times New Roman', Times, serif;
            font-size: 14px;
        }
    
        .details-table {
            width: 100%;
            border-collapse: collapse;
        }
    
        .details-table th, .details-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
    
        .details-table th {
            background-color: #333;
            color: #fff;
            font-weight: bold;
        }
    
        .details-table input {
            width: 100%;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
    
        @media (max-width: 768px) {
            .part-details-section {
                flex-direction: column;
                text-align: center;
            }
    
            .part-details-section .left, .part-details-section .right {
                margin-bottom: 10px;
                text-align: center;
            }
        }
        /* Styling for the form-group container */
        .mb-3 {
            margin: 0 auto;
            max-width: 1250px; /* Adjust as needed for your layout */
        }
    
        /* Styling for the form label */
        .form-label {
            display: block;
            margin-bottom: 10px; /* Adjust the space between the label and textarea */
            font-weight: bold;
        }
    
        /* Styling for the textarea */
        .form-control {
            width: 100%;
            padding: 10px;
            border: 2px solid black; /* Solid black border */
            border-radius: 5px;
            box-sizing: border-box; /* Ensures padding and border are included in the width */
        }
    
        input[type="text"] {
            border: 1px solid #000; /* Light black border color */
        }
    
        @media (max-width: 768px) {
            .mb-3 {
                max-width: 100%; /* Adjust for smaller screens */
                padding: 0 10px; /* Optional: Add padding for smaller screens */
            }
        }
        input[type="text"] {
    border: 1px solid #000; /* Light black border color */
    height:  30px;
}
@media print {
    .button-container {
        display: none;
    }
}
.header-left, .header-right {
  flex: 1;
}

.header-right {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.header-left img, .header-right img {
  margin-bottom: 10px;
}

.navbar-nav .dropdown-menu {
  text-align: center;
}

.navbar {
  width: 100%;
}

.navbar-toggler {
  margin-left: auto;
}

@media (max-width: 768px) {
  .header-left, .header-right {
    justify-content: center;
  }
}

    </style>
    
</head>
<body>
    <header class="header py-3">
        <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
          <!-- Left Section -->
          <div class="header-left d-flex flex-column flex-md-row align-items-center mb-3 mb-md-0 text-center text-md-left">
            <img src="electrical.jpeg" alt="Logo" class="img-fluid logo-img" style="max-width: 150px;">
            <div class="ms-3">
              <p class="text mb-0">Electronicals and Electronics</p>
              <p class="text mb-0">An ISO 9001:2005 Certified</p>
            </div>
          </div>
      
          <!-- Right Section -->
          <div class="header-right d-flex flex-column flex-md-row align-items-center">
            <img src="mms.jpg" alt="Image 1" class="img-fluid partner-img" style="max-width: 80px;">
            <img src="EGAC.png" alt="Image 2" class="img-fluid partner-img" style="max-width: 80px;">
            <img src="IAF.png" alt="Image 3" class="img-fluid partner-img" style="max-width: 80px;">
            <img src="NABCB.png" alt="Image 4" class="img-fluid partner-img" style="max-width: 80px;">
          </div>
        </div>
      
        <!-- Navigation -->
        <nav class="navbar navbar-expand-md navbar-light bg-light">
          <div class="container d-flex justify-content-end">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav ms-auto">
                <li class="nav-item dropdown me-2">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownPages" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Pages
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdownPages">
                    <li><a class="dropdown-item" href="index.html">Installation Form</a></li>
                    <li><a class="dropdown-item" href="index2.html">General Service Form</a></li>
                    <li><a class="dropdown-item" href="index3.html">Vehicle Owner Information Form</a></li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownReport" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Report page
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdownReport">
                    <li><a class="dropdown-item" href="report.html">Installation report</a></li>
                    <li><a class="dropdown-item" href="report2.html">General Service report</a></li>
                    <li><a class="dropdown-item" href="report3.html">Vehicle Owner Information report</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </header>
  
      
    <section class="full-width-main">
        <div class="table-responsive">
            <table class="table table-bordered">
                <tbody>
                    <tr>
                        <td class="text-center" id="repNo">Loading...</td>
                        <td class="text-center"><u>GENERAL SERVICE REPORT</u></td>
                        <td class="text-center">
                            <input type="date" class="form-control">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <section class="container">
        <div class="left-side">
            <section class="form-section">
                <form class="form-container">
                    <div class="form-group">
                        <label for="className">Customer Name:</label>
                        <input type="text" id="className" placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label for="area">Area:</label>
                        <input type="text" id="area" placeholder="Enter your area">
                    </div>
                    <div class="form-group">
                        <label for="project">Project:</label>
                        <input type="text" id="project" placeholder="Enter your project">
                    </div>
                    <div class="form-group">
                        <label for="poNoDate">Po No./Date:</label>
                        <input type="text" id="poNoDate" placeholder="Enter Po No./Date">
                    </div>
                    <div class="form-group">
                        <label for="eqptModel">Eqpt Model:</label>
                        <input type="text" id="eqptModel" placeholder="Enter Equipment Model">
                    </div>
                    <div class="form-group">
                        <label for="eqptSiNo">Eqpt SI.No:</label>
                        <input type="text" id="eqptSiNo" placeholder="Enter Equipment SI No">
                    </div>
                    <div class="form-group">
                        <label for="systemCondition">System Working Condition:</label>
                        <input type="text" id="systemCondition" placeholder="Enter System Working Condition">
                    </div>
                    <div class="form-group">
                        <label for="customerComplainDate">Customer Complain Date:</label>
                        <input type="text" id="customerComplainDate" placeholder="Enter Customer Complain Date">
                    </div>
                    <div class="form-group">
                        <label for="atHmr1">AT HMR:</label>
                        <input type="text" id="atHmr1" placeholder="Enter AT HMR">
                    </div>
                    <div class="form-group">
                        <label for="customerComplainClosedDate">Customer Complain Closed Date:</label>
                        <input type="text" id="customerComplainClosedDate" placeholder="Enter Customer Complain Closed Date">
                    </div>
                    <div class="form-group">
                        <label for="atHmr2">AT HMR:</label>
                        <input type="text" id="atHmr2" placeholder="Enter AT HMR">
                    </div>
                </form>
            </section>
        </div>
        <div class="right-side checklist-section">
            <h3>Component Status Checklist</h3>
            <div class="checklist-table">
                <div class="checklist-col" id="uee-parts-container">
                    <h4>UEE Parts</h4>
                    <input type="text" placeholder="Enter part 1" onkeypress="handleChecklistKeyPress(event, 'uee-parts-container')">
                </div>
                <div class="checklist-col" id="conditions-container">
                    <h4>Conditions</h4>
                    <input type="text" placeholder="Enter condition 1" onkeypress="handleChecklistKeyPress(event, 'conditions-container')">
                </div>
            </div>
        </div>
    </section>
    <br>
    <br>
   <section class="part-details-section">
        <div class="left">Failed Part Details</div>
        <div class="right">ACTION</div>
    </section>
    <section class="part-details-table">
        <table class="details-table">
            <thead>
                <tr>
                    <th>Sl No</th>
                    <th>Uee Part No</th>
                    <th>Description</th>
                    <th>Qlt</th>
                    <th>Repair/Reject/To Be Replaced</th>
                </tr>
            </thead>
            <tbody id="table-body">
                <tr>
                    <td><input type="text" value="1" readonly></td>
                    <td><input type="text" placeholder="Part001"></td>
                    <td><input type="text" placeholder="Part Description"></td>
                    <td><input type="text" placeholder="Good"></td>
                    <td><input type="text" placeholder="To Be Replaced"></td>
                </tr>
            </tbody>
        </table>
    </section>
    <div class="mb-3">
        <label for="symptoms" class="form-label">SYMPTOMS:</label>
        <textarea class="form-control" id="symptoms" rows="3"></textarea>
    </div>
    <div class="row mb-3">
        <div class="col-md-6">
            <label for="systemStatus" class="form-label">Status Of System:</label>
            <select class="form-select" id="systemStatus">
                <option selected>Under Warranty</option>
                <option>Out of Warranty</option>
            </select>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-6">
            <label for="forUee" class="form-label">For UEE:</label>
            <input type="text" class="form-control" id="forUee">
        </div>
        <div class="col-md-6">
            <label for="forCustomer" class="form-label">For Customer:</label>
            <input type="text" class="form-control" id="forCustomer">
        </div>
    </div>
    <div class="button-container text-center mb-4">
        <button class="btn btn-primary" id="saveButton">Save</button>
        <button class="btn btn-secondary" id="printButton">Print</button>
        <button class="btn btn-info" id="getReportButton">Get Report</button>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        document.getElementById('saveButton').addEventListener('click', function() {
            saveData();
        });
    
        document.getElementById('printButton').addEventListener('click', function() {
            printPage();
        });
    
        document.getElementById('getReportButton').addEventListener('click', function() {
            // Redirect to the report page
            window.location.href = 'report2.html';
        });
    
        function saveData() {
            // Get form data
            const formElements = document.querySelectorAll('input[type="text"], textarea, select');
            let data = {};
            formElements.forEach(element => {
                data[element.id] = element.value;
            });
    
            // Save data to localStorage
            localStorage.setItem('formData', JSON.stringify(data));
            alert('Data saved successfully!');
        }
    
        function printPage() {
            window.print();
        }
    
        function generateRegistrationNumber() {
            let lastNumber = localStorage.getItem('lastRegistrationNumber');
            if (!lastNumber) {
                lastNumber = 1000;
            } else {
                lastNumber = parseInt(lastNumber, 10) + 1;
                if (lastNumber > 9999) {
                    lastNumber = 1000;
                }
            }
            localStorage.setItem('lastRegistrationNumber', lastNumber);
            document.getElementById('repNo').innerText = `REG-${lastNumber.toString().padStart(4, '0')}`;
        }
    
        window.onload = generateRegistrationNumber;
    
        function handleChecklistKeyPress(event, containerId) {
            if (event.key === 'Enter') {
                event.preventDefault();
                addNewChecklistInput(containerId);
            }
        }
    
        function addNewChecklistInput(containerId) {
            const container = document.getElementById(containerId);
            const inputCount = container.querySelectorAll('input').length;
            const newInput = document.createElement('input');
            newInput.type = 'text';
            newInput.placeholder = `Enter ${containerId === 'uee-parts-container' ? 'part' : 'condition'} ${inputCount + 1}`;
            newInput.className = `${containerId}-input`;
            newInput.onkeypress = (event) => handleChecklistKeyPress(event, containerId);
            container.appendChild(newInput);
        }
    
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                addNewRow();
            }
        }
    
        function addNewRow() {
            const tableBody = document.getElementById('table-body');
            const rowCount = tableBody.querySelectorAll('tr').length + 1;
            
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><input type="text" value="${rowCount}" readonly></td>
                <td><input type="text" placeholder="Part${rowCount.toString().padStart(3, '0')}" class="part-input-${rowCount}"></td>
                <td><input type="text" placeholder="Part Description" class="desc-input-${rowCount}"></td>
                <td><input type="text" placeholder="Condition" class="condition-input-${rowCount}"></td>
                <td><input type="text" placeholder="Action" class="action-input-${rowCount}"></td>
            `;
            
            tableBody.appendChild(newRow);
    
            // Attach the event listener to the last input field of the newly added row
            const lastInput = newRow.querySelector('input:last-of-type');
            lastInput.addEventListener('keypress', handleKeyPress);
            // Focus on the new row's first input field
            newRow.querySelector('input').focus();
        }
    
        // Initial attachment of event listener to existing input fields
        document.querySelectorAll('.details-table input').forEach(input => {
            input.addEventListener('keypress', handleKeyPress);
        });
        document.addEventListener('DOMContentLoaded', function() {
    const data = JSON.parse(localStorage.getItem('generalServiceData'));

    if (data) {
        document.getElementById('reportDate').value = data.reportDate || '';

        document.getElementById('className').value = data.customerName || '';
        document.getElementById('area').value = data.area || '';
        document.getElementById('project').value = data.project || '';
        document.getElementById('poNoDate').value = data.poNoDate || '';
        document.getElementById('eqptModel').value = data.eqptModel || '';
        document.getElementById('eqptSiNo').value = data.eqptSiNo || '';
        document.getElementById('systemCondition').value = data.systemCondition || '';
        document.getElementById('customerComplainDate').value = data.customerComplainDate || '';
        document.getElementById('atHmr1').value = data.atHmr1 || '';
        document.getElementById('customerComplainClosedDate').value = data.customerComplainClosedDate || '';
        document.getElementById('atHmr2').value = data.atHmr2 || '';
        document.getElementById('symptoms').value = data.symptoms || '';
        document.getElementById('systemStatus').value = data.systemStatus || 'Under Warranty';
        document.getElementById('forUee').value = data.forUee || '';
        document.getElementById('forCustomer').value = data.forCustomer || '';

        // Populate checklist if needed
        const ueePartsContainer = document.getElementById('uee-parts-container');
        if (data.ueeParts) {
            ueePartsContainer.innerHTML = data.ueeParts.map(part => `<input type="text" value="${part}" readonly>`).join('');
        }

        const conditionsContainer = document.getElementById('conditions-container');
        if (data.conditions) {
            conditionsContainer.innerHTML = data.conditions.map(condition => `<input type="text" value="${condition}" readonly>`).join('');
        }

        // Populate table body with data if needed
        const tableBody = document.getElementById('table-body');
        if (data.tableRows) {
            tableBody.innerHTML = data.tableRows.map(row => `
                <tr>
                    <td><input type="text" value="${row.slNo}" readonly></td>
                    <td><input type="text" value="${row.ueePartNo}" readonly></td>
                    <td><input type="text" value="${row.description}" readonly></td>
                    <td><input type="text" value="${row.qlt}" readonly></td>
                    <td><input type="text" value="${row.action}" readonly></td>
                </tr>
            `).join('');
        }
    }
});

    </script>
    

    
</body>
</html>
